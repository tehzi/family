(function(){var t,e,i,r,s=function(t,e){return function(){return t.apply(e,arguments)}},o=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;t=function(t){function e(){return this._comics_title=s(this._comics_title,this),this._slideShow=s(this._slideShow,this),this._slideHide=s(this._slideHide,this),this.events=s(this.events,this),e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype._title_interval=0,e.prototype._forse_stop=!1,e.prototype._events={'mouseenter [data-type="comics-title"]':"_comics_title",'mouseout [data-type="comics-title"]':"_comics_title"},e.prototype.el="body .main",e.prototype.events=function(){var t,e,i;t={};for(e in this)i=this[e],e.match(/^_.*events.*$/)&&(t=_.extend(t,i));return t},e.prototype._slideHide=function(t){var e;return e=$('[data-type="comics-title"]'),$.when(e.parents("a").animate({opacity:0},50)).then(function(){return $(this).attr("href",t.data("href")),e.html(t.data("description"))})},e.prototype._slideShow=function(t){var e;return e=$('[data-type="comics-title"]'),e.parent().css({visibility:"visible"}),$.when(e.parents("a").animate({opacity:1},50)).then(function(){return e.html(t.data("description"))})},e.prototype._comics_title=function(t){var e,i,r;return i=$(t.currentTarget),e=$("#carousel-comics"),r=function(){return function(){return $.when(i.animate({"text-indent":-(i.textWidth()-80)},2e3)).then(i.animate({"text-indent":0},2e3))}}(this),function(s){return function(){return"mouseenter"===t.type&&(e.find(".fa-pause").removeClass("fa-pause").addClass("fa-play"),i.textWidth()>80)?(r(),clearInterval(s._title_interval),s._title_interval=setInterval(r,4200)):void 0}}(this)(),function(i){return function(){return"mouseout"!==t.type||(clearInterval(i._title_interval),i._forse_stop)?void 0:e.find(".fa-play").removeClass("fa-play").addClass("fa-pause")}}(this)(),[i,e]},e}(Backbone.View),e=function(t){function e(){this._comics_title=s(this._comics_title,this),this._slideShow=s(this._slideShow,this),this._slideHide=s(this._slideHide,this),this._prev=s(this._prev,this),this._next=s(this._next,this),this._stop=s(this._stop,this),this._start=s(this._start,this),e.__super__.constructor.call(this),r=$("#carousel-comics").data("interval"),$("#carousel-comics").carousel("pause").removeAttr("data-ride").find("a.fa-backward, a.fa-forward").removeAttr("data-slide").click(function(t){return t.preventDefault()}).end().addClass("jcarousel").jcarousel({wrap:"circular"}).on("jcarousel:scroll",this._slideHide).on("jcarousel:animateend",this._slideShow),this._start()}var i,r,n;return o(e,t),r=0,n=0,i=!1,e.prototype._events_={"click #carousel-comics .carousel-controls a.fa-backward":"_prev","click #carousel-comics .carousel-controls a.fa-pause":"_stop","click #carousel-comics .carousel-controls a.fa-play":"_start","click #carousel-comics .carousel-controls a.fa-forward":"_next"},e.prototype._start=function(t){return this._timer=setInterval(function(){return function(){return $("#carousel-comics").data("jcarousel").scroll("+=1")}}(this),r),function(){return function(){var e;return t&&"click"===t.type?(e=$(t.currentTarget),e.removeClass("fa-play").addClass("fa-pause"),i=!1):void 0}}(this)()},e.prototype._stop=function(t){return clearInterval(this._timer),function(){return function(){var e;return t&&"click"===t.type?(e=$(t.currentTarget),e.removeClass("fa-pause").addClass("fa-play"),i=!0):void 0}}(this)()},e.prototype._next=function(){return this._stop(),$("#carousel-comics").data("jcarousel").scroll("+=1"),i?void 0:this._start()},e.prototype._prev=function(){return this._stop(),$("#carousel-comics").data("jcarousel").scroll("-=1"),i?void 0:this._start()},e.prototype._slideHide=function(t){return e.__super__._slideHide.call(this,$(t.currentTarget).jcarousel("target"))},e.prototype._slideShow=function(t){return e.__super__._slideShow.call(this,$(t.currentTarget).jcarousel("target"))},e.prototype._comics_title=function(t){var i,r,s;return s=e.__super__._comics_title.call(this,t),r=s[0],i=s[1],function(e){return function(){return"mouseenter"===t.type?e._stop():void 0}}(this)(),function(e){return function(){return"mouseout"===t.type?e._start():void 0}}(this)()},e}(t),i=function(t){function e(){return this._comics_title=s(this._comics_title,this),this._slideShow=s(this._slideShow,this),this._slideHide=s(this._slideHide,this),e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype._events_={"slide.bs.carousel #carousel-comics":"_slideHide","slid.bs.carousel #carousel-comics":"_slideShow"},e.prototype._slideHide=function(t){return e.__super__._slideHide.call(this,$(t.relatedTarget))},e.prototype._slideShow=function(t){return e.__super__._slideShow.call(this,$(t.relatedTarget))},e.prototype._comics_title=function(t){var i,r,s;return s=e.__super__._comics_title.call(this,t),r=s[0],i=s[1],function(){return function(){return"mouseenter"===t.type?i.carousel("pause"):void 0}}(this)(),function(){return function(){return"mouseout"===t.type?i.carousel("cycle"):void 0}}(this)()},e}(t),r=function(){function t(){this.controller=s(this.controller,this),_.templateSettings={evaluate:/\{\[([\s\S]+?)\]\}/g,interpolate:/\{\{(.+?)\}\}/g,escape:/\{\{\{([\s\S]+?)\}\}\}/g},this.controller()}var r;return r=null,t.prototype.csstransitions="undefined"!=typeof Modernizr&&Modernizr.csstransitions,t.prototype.view=null,t.prototype.tooltip=null,t.prototype.bookmark=null,t.prototype.controller=function(){return $("body").data("no_comic_view")?void 0:this.view=this.csstransitions?new i:new e},t.getInstance=function(){return null===r?r=new t:void 0},t}(),$(function(){return window.main=r.getInstance()})}).call(this);